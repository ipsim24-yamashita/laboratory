<!DOCTYPE html>
<html lang="ja">
  <head>
    <!--#region head meta -->
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <meta
      name="description"
      content="川西市・猪名川町の個別進学塾 ipsim。東谷中・猪名川中エリアを中心に小中高の個別指導。定期テスト・実力テスト・高校入試に対応。山下教室・猪名川パークプラザ教室の営業時間・料金・アクセスをご案内。"
    />
    <link rel="canonical" href="https://ipsim17.jp/" />
    <meta name="robots" content="index,follow" />

    <!-- OGP / Twitter -->
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="ja_JP" />
    <meta
      property="og:title"
      content="個別進学塾 ipsim | 川西市・猪名川町の個別指導"
    />
    <meta
      property="og:description"
      content="新しいかたちの個別進学塾。定期テスト・実力テスト・高校入試対策。山下教室・猪名川パークプラザ教室。山下教室は川西市立東谷中学校エリア専門の個別指導教室。高校部併設。猪名川パークプラザ教室は猪名川町立猪名川中学校エリア専門の個別指導教室。"
    />
    <meta property="og:url" content="https://ipsim17.jp/" />
    <meta property="og:site_name" content="個別進学塾 ipsim" />
    <meta
      property="og:image"
      content="https://ipsim17.jp/pics/og-ipsim-1200x630.webp"
    />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:image:alt" content="個別進学塾 ipsimのロゴと教室案内" />
    <meta name="theme-color" content="#22c55e" />
    <!-- #endregion head meta -->

    <!--#region head title -->
    <title id="タイトル">
      個別進学塾 ipsim 山下教室・猪名川パークプラザ教室 |
      川西市・猪名川町の個別指導
    </title>
    <!-- #endregion head title -->

    <!-- #region head script TailwindCSS CDN -->
    <script id="TailwindCSS CDN" src="https://cdn.tailwindcss.com"></script>
    <!-- #endregion head script TailwindCSS CDN -->

    <!-- #region head style TailwindCSS custom -->
    <style id="TailwindCSS Custom" type="text/tailwindcss">
      /* スムーズ動作 */
      html {
        scroll-behavior: smooth;
      }
      /* ローカルフォント PresentAnthem */
      @font-face {
        font-family: "PresentAnthem";
        src: url("./fonts/PresentAnthem-Regular.ttf") format("truetype");
        font-weight: normal;
        font-style: normal;
        font-display: swap;
      }
      .font-present {
        font-family: "PresentAnthem", system-ui, sans-serif;
      }
      /* 柔らかい影 */
      .text-shadow-lime {
        text-shadow: 2px 2px 4px rgba(22, 163, 74, 0.6); /* lime-600の半透明影 */
      }
      .text-shadow-gray {
        text-shadow: 2px 2px 4px rgba(75, 85, 99, 0.6); /* gray-600の半透明影 */
      }
      .text-shadow-red {
        text-shadow: 2px 2px 4px rgba(220, 38, 38, 0.6); /* red-600の半透明影 */
      }
      .text-shadow-blue {
        text-shadow: 2px 2px 4px rgba(37, 99, 235, 0.6); /* blue-600の半透明影 */
      }

      @layer base {
        /* -----------------------------
                h1 : ヒーロー
            ----------------------------- */
        h1 {
          @apply text-2xl;
          @apply text-lime-600;
          @apply text-shadow-lime;
          @apply font-extrabold;
        }
        /* -----------------------------
                h2 : セクションタイトル
            ----------------------------- */
        h2 {
          @apply text-xl;
          @apply text-gray-900;
          @apply text-shadow-gray;
          @apply font-extrabold;
        }
        /* -----------------------------
                h3 : カードタイトル
            ----------------------------- */
        h3 {
          @apply text-lg;
          @apply text-lime-600;
          @apply text-shadow-lime;
          @apply font-bold;
        }
        /* -----------------------------
                h4 : セクション小見出し
            ----------------------------- */
        h4 {
          @apply text-base;
          @apply text-lime-600;
          @apply text-shadow-lime;
          @apply font-bold;
        }
        /* -----------------------------
                h5 : 本文段落見出し
            ----------------------------- */
        h5 {
          @apply text-sm;
          @apply text-gray-600;
          @apply text-shadow-gray;
          @apply font-bold;
        }
        /* -----------------------------
                    h6 : 本文注釈
            ----------------------------- */
        h6 {
          @apply text-xs;
          @apply text-gray-500;
        }
        /* -----------------------------
                    article : 本文
            ----------------------------- */
        article {
          @apply text-base;
          @apply text-gray-700;
          @apply font-medium;
        }
        /* -----------------------------
                    figure : 飾り文字
            ----------------------------- */
        figure {
          @apply font-present;
          @apply text-4xl;
          @apply text-blue-400;
        }

        /* sm（640px〜） */
        @screen sm {
          h1 {
            @apply text-3xl;
          } /* 30px */
          h2 {
            @apply text-2xl;
          } /* 24px */
          h3 {
            @apply text-xl;
          } /* 20px */
          h4 {
            @apply text-lg;
          } /* 18px */
          h5 {
            @apply text-base;
          } /* 16px */
          h6 {
            @apply text-sm;
          } /* 14px */
          article {
            @apply text-lg;
          } /* 18px */
          figure {
            @apply text-5xl;
          }
        }

        /* md（768px〜） */
        @screen md {
          h1 {
            @apply text-4xl;
          } /* 36px */
          h2 {
            @apply text-3xl;
          } /* 30px */
          h3 {
            @apply text-2xl;
          } /* 24px */
          h4 {
            @apply text-xl;
          } /* 20px */
          h5 {
            @apply text-lg;
          } /* 18px */
          h6 {
            @apply text-base;
          } /* 16px */
          article {
            @apply text-xl;
          } /* 20px */
          figure {
            @apply text-6xl;
          }
        }

        /* lg（1024px〜） */
        @screen lg {
          h1 {
            @apply text-5xl;
          } /* 48px */
          h2 {
            @apply text-4xl;
          } /* 36px */
          h3 {
            @apply text-3xl;
          } /* 30px */
          h4 {
            @apply text-2xl;
          } /* 24px */
          h5 {
            @apply text-xl;
          } /* 20px */
          h6 {
            @apply text-lg;
          } /* 18px */
          article {
            @apply text-xl;
          } /* 20px */
          figure {
            @apply text-6xl;
          }
        }
      }

      /* 偏差値UP カード背景を黄グラデに統一 */
      @layer utilities {
        .ex-card {
          @apply rounded-xl shadow p-3 bg-gradient-to-b from-white to-yellow-100;
        }
      }
    </style>
    <!-- #endregion head style TailwindCSS custom -->
  </head>
  <body>
    <!-- #region h2 -->
    <h2 class="sr-only">個別進学塾 ipsim 山下教室 / 猪名川パークプラザ教室</h2>
    <!-- #endregion h2 -->

    <!-- #region section hero -->
    <section id="hero" class="relative overflow-hidden bg-transparen">
      <header
        class="absolute top-0 left-0 z-20 flex items-center justify-between w-full px-4 pt-4"
      >
        <img
          src="pics/logo.png"
          alt="ロゴ"
          width="623"
          height="221"
          class="h-auto w-28 md:w-40 drop-shadow-lg"
        />
      </header>

      <!-- ヒーロー用コンテナ -->
      <div class="z-0">
        <img
          src="pics/main.webp"
          alt="ヒーロー"
          width="1024"
          height="587"
          fetchpriority="high"
          decoding="async"
          class="block w-full h-auto object-contain animate-zoom-out-cover"
        />

        <div class="absolute inset-0 bg-white/20"></div>
      </div>

      <!-- テキストエリア -->
      <!-- 配置 -->
      <div
        class="absolute top-[72px] sm:top-[140px] md:top-[160px] lg:top-[200px] xl:top-[240px] left-[30px] sm:left-[80px] md:left-[120px] lg:left-[100px] xl:left-[80px] z-10"
      >
        <!-- テキスト -->
        <h5>
          結果にこだわる<span class="hidden sm:inline-block"
            >進化した個別指導</span
          >
        </h5>
        <h1>個別進学塾 ipsim</h1>
      </div>
    </section>
    <!-- #endregion section hero -->

    <main class="space-y-12 md:space-y-36">
      <!-- #region section 偏差値UP -->
      <section
        id="Excellent"
        class="relative w-full max-w-[1024px] mx-auto px-4 py-6"
      >
        <!-- 飾り文字 -->
        <div class="reveal fade-up mt-8 flex justify-center bg-white">
          <figure class="mb-4">Excellent !!</figure>
        </div>

          <!-- 説明 -->
          <div class="reveal fade-up text-gray-600 font-semibold text-lg md:text-2xl text-center">
            <div class="pl-4">
              的を絞った
              <span class="text-lime-600 text-shadow-lime text-xl md:text-2xl"
                >"効率の良い"</span
              >
              問題演習と
              <div><span class="text-lime-600 text-shadow-lime text-xl md:text-2xl"
                >”できる”ための</span>徹底解説</div>
              <div class="mx-auto flex justify-center items-center text-blue-600 text-shadow-blue font-semibold text-xl md:text-2xl">
                結果にこだわるipsimの
              </div>
              <div class="mx-auto flex justify-center items-center text-red-600 text-shadow-red font-bold text-3xl md:text-4xl"">
              成績アップ!! 
              </div>
              <div class="mx-auto flex justify-center items-center text-gray-600 text-shadow-gray font-bold text-xl md:text-2xl"">
              実例
              </div>
            </div>
          </div>

          <!-- 水平線 -->
          <div class="m-6 py-2 border-t border-gray-200"></div>

        <!-- カードの入れ物（レスポンシブ列数） -->
        <div
          id="excellent-initial"
          class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3"
        ></div>

        <!-- ▼ 1段目アコーディオン：もっと見る -->
        <div class="mt-8">
          <button
            id="btn-more"
            type="button"
            class="w-full sm:w-auto sm:px-6 sm:mx-auto block px-4 py-2 rounded-full bg-lime-500 text-white font-semibold shadow focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-lime-500"
            aria-expanded="false"
            aria-controls="excellent-more1"
          >
            もっと見る
          </button>
          <div
            id="excellent-more1"
            class="overflow-hidden max-h-0 transition-[max-height] duration-500 ease-in-out"
          >
            <div
              class="pt-3 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3"
            ></div>
          </div>
        </div>

        <!-- ▼ 2段目アコーディオン：もっともっと見る -->
        <div class="mt-8">
          <button
            id="btn-more2"
            type="button"
            class="w-full sm:w-auto sm:px-6 sm:mx-auto block px-4 py-2 rounded-full bg-lime-500 text-white font-semibold shadow focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-lime-500"
            aria-expanded="false"
            aria-controls="excellent-more2"
          >
            もっともっと見る
          </button>
          <div
            id="excellent-more2"
            class="overflow-hidden max-h-0 transition-[max-height] duration-500 ease-in-out"
          >
            <div
              class="pt-3 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3"
            ></div>
          </div>
        </div>
      </section>
      <!-- #endregion section 偏差値UP -->

      <!-- #region script 偏差値UP -->
      <script>
        (() => {
          // -------------------- DOM util --------------------
          const $ = (sel, root = document) => root.querySelector(sel);

          // -------------------- Card template --------------------
          function cardHTML(c) {
            const grade  = c.grade ?? "";
            const type   = c.type ?? "";
            const subj   = c.subject ?? "";
            const before = c.before ?? "";
            const after  = c.after ?? "";
            const diff   = c.diff ?? "";

            return `
              <article class="rounded-xl bg-gradient-to-b from-white to-yellow-100 shadow p-3">
                <header class="flex items-center gap-2 mb-1">
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-blue-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                    <path d="M3 21V5M3 21h18" />
                    <polyline points="6,15 11,10 15,13 21,7" />
                  </svg>
                  <!-- 学年と性別（1行固定） -->
                  <h5 class="whitespace-nowrap">${grade}</h5>
                </header>

                <!-- 種別と教科（1行固定） -->
                <p class="text-gray-600 text-shadow-gray text-lg md:text-xl font-semibold text-center whitespace-nowrap">
                  ${type} ${subj}
                </p>

                <!-- 前 と 後（1行固定） -->
                <div class="mt-1 text-center whitespace-nowrap leading-none">
                  <span class="text-blue-600 text-shadow-blue text-2xl md:text-3xl font-semibold align-middle">${before}</span>
                  <span class="text-gray-600 text-shadow-gray text-2xl md:text-3xl font-semibold align-middle">→</span>
                  <span class="text-red-600 text-shadow-red text-4xl md:text-5xl font-extrabold align-middle">${after} !</span>
                </div>

                <!-- 偏差値 と 上昇幅 -->
                <div class="mt-1 text-center leading-none">
                  <span class="text-blue-600 text-shadow-blue font-semibold text-2xl align-middle">偏差値</span>
                  <!-- スマホ時のみ改行 -->
                  <br class="sm:hidden" />
                  <span class="text-red-600 text-shadow-red text-4xl md:text-5xl font-extrabold align-middle whitespace-nowrap">${diff} UP</span>
                </div>
              </article>
            `;
          }



          
          // -------------------- Breakpoint logic --------------------
          const mqSM = window.matchMedia("(min-width: 640px)"); // sm+
          const mqLG = window.matchMedia("(min-width: 1024px)"); // lg+

          function computeCounts() {
            if (mqLG.matches) {
              return { initial: 20, more1: 24 }; // lg以上：4列
            } else if (mqSM.matches) {
              return { initial: 18, more1: 24 }; // sm, md：3列
            } else {
              return { initial: 20, more1: 22 }; // スマホ：2列
            }
          }

          // -------------------- Accordion helpers --------------------
          function setBtnColor(btn, expanded) {
            // 開：オレンジ / 閉：明るい緑
            const clsOn = ["bg-orange-500", "hover:bg-orange-600"];
            const clsOff = ["bg-lime-500"];
            btn.classList.remove(...clsOn, ...clsOff);
            btn.classList.add(...(expanded ? clsOn : clsOff));
          }
          function expand(wrapper) {
            wrapper.style.maxHeight = wrapper.scrollHeight + "px";
          }
          function collapse(wrapper) {
            wrapper.style.maxHeight = "0px";
          }
          function syncAccordion(wrapper, btn, expanded) {
            if (expanded) {
              expand(wrapper);
              btn.setAttribute("aria-expanded", "true");
              btn.textContent = btn.id === "btn-more2" ? "とじる" : "とじる";
            } else {
              collapse(wrapper);
              btn.setAttribute("aria-expanded", "false");
              btn.textContent =
                btn.id === "btn-more2" ? "もっともっと見る" : "もっと見る";
            }
            setBtnColor(btn, expanded);
          }

          // -------------------- State (永続) --------------------
          const state = {
            // レイアウト
            counts: computeCounts(),
            // 開閉状態（「閉じる」を押すまで閉じない）
            expanded1: false,
            expanded2: false,
            // データ
            cards: [],
          };

          // -------------------- Render --------------------
          async function ensureData() {
            if (state.cards.length) return;
            const res = await fetch("Excellent_JSON.json", { cache: "no-store" });
            const data = await res.json();

            state.cards = (Array.isArray(data.cards) ? data.cards : []).map((c) => {
              const before = parseFloat(c.before);
              const after = parseFloat(c.after);
              const diff =
                !isNaN(before) && !isNaN(after)
                  ? Math.round(after - before) // ← 小数点を四捨五入して整数化
                  : c.diff ?? "";
              return { ...c, diff };
            });
          }

          function sliceByCounts() {
            const { initial, more1 } = state.counts;
            const first = state.cards.slice(0, initial);
            const second = state.cards.slice(initial, initial + more1);
            const rest = state.cards.slice(initial + more1);
            return { first, second, rest };
          }

          function renderGrids() {
            const initialWrap = $("#excellent-initial");
            const more1Outer = $("#excellent-more1");
            const more1Grid = $("#excellent-more1 > div");
            const more2Outer = $("#excellent-more2");
            const more2Grid = $("#excellent-more2 > div");
            const btnMore = $("#btn-more");
            const btnMore2 = $("#btn-more2");

            const { first, second, rest } = sliceByCounts();

            // コンテンツ差し替え
            initialWrap.innerHTML = first.map(cardHTML).join("");
            more1Grid.innerHTML = second.map(cardHTML).join("");
            more2Grid.innerHTML = rest.map(cardHTML).join("");

            // ボタンの表示／非表示
            btnMore.classList.toggle("hidden", second.length === 0);
            btnMore2.classList.toggle("hidden", rest.length === 0);

            // アコーディオンの開閉状態を維持
            syncAccordion(more1Outer, btnMore, state.expanded1);
            syncAccordion(more2Outer, btnMore2, state.expanded2);

            // 開いたままのとき、リサイズで高さが変わる可能性があるので再計測
            setTimeout(() => {
              if (state.expanded1) expand(more1Outer);
              if (state.expanded2) expand(more2Outer);
            }, 0);
          }

          async function renderAll() {
            await ensureData(); // JSON読み込み（1回だけ）:contentReference[oaicite:3]{index=3}
            renderGrids(); // グリッド描画
          }

          // -------------------- Events --------------------
          function wireButtons() {
            const more1Outer = $("#excellent-more1");
            const more2Outer = $("#excellent-more2");
            const btnMore = $("#btn-more");
            const btnMore2 = $("#btn-more2");

            btnMore.onclick = () => {
              state.expanded1 = !state.expanded1;
              syncAccordion(more1Outer, btnMore, state.expanded1);
            };
            btnMore2.onclick = () => {
              state.expanded2 = !state.expanded2;
              syncAccordion(more2Outer, btnMore2, state.expanded2);
            };

            // 中の内容が変わった場合も高さ再計測（フォント読み込み等に備え）
            new ResizeObserver(() => {
              if (state.expanded1) expand(more1Outer);
            }).observe($("#excellent-more1 > div"));
            new ResizeObserver(() => {
              if (state.expanded2) expand(more2Outer);
            }).observe($("#excellent-more2 > div"));
          }

          // 幅ブレークポイントを跨いだときのみ再レイアウト（状態は保持）
          function wireBreakpointReflow() {
            const reflow = () => {
              const old = state.counts;
              const next = computeCounts();
              if (old.initial !== next.initial || old.more1 !== next.more1) {
                state.counts = next;
                renderGrids(); // 開閉状態(state.expandedX)は維持
              }
            };
            mqSM.addEventListener("change", reflow);
            mqLG.addEventListener("change", reflow);
          }

          // -------------------- Init --------------------
          if (document.getElementById("Excellent")) {
            // セクションがあるときのみ:contentReference[oaicite:4]{index=4}
            renderAll().then(() => {
              wireButtons();
              wireBreakpointReflow();
            });
          }
        })();
      </script>
      <!-- #endregion script 偏差値UP -->
    </main>

    <!-- #region footer -->
    <footer id="footer" class="mt-12 w-full bg-cyan-950 text-white">
      <!-- 中央寄せ・最大幅800px・内側余白 -->
      <div class="mx-auto max-w-[800px] px-8 py-8">
        <p class="text-sm md:text-base">岡村ゼミナールグループ</p>
        <p class="text-xl md:text-2xl font-bold mb-4 tracking-[4px]">
          <span>個別進学塾 ipsim </span>
          <span class="text-lg md:text-xl">(イプシム)</span>
        </p>

        <ul
          class="flex flex-col lg:flex-row justify-between gap-8 text-lg md:text-xl leading-relaxed"
        >
          <!-- 山下教室 -->
          <li class="flex-1">
            <strong class="flex items-center gap-2">
              <!-- …SVG… -->
              山下教室
            </strong>
            <div class="text-sm md:text-base px-4 mt-1">
              〒666-0105<br />
              兵庫県川西市見野2-35-6<br />
              IBS 山下駅前ビル2F<br />
              能勢電鉄 山下駅 徒歩2分<br />
              TEL
              <a class="text-blue-300 text-base" href="tel:0727676537"
                >072-767-6537</a
              ><br />
              MAIL
              <a
                class="text-blue-300 text-base"
                href="mailto:kawanishi@oksemi.co.jp"
                aria-label="ipsim 山下教室 メールアドレス"
                >kawanishi@oksemi.co.jp</a
              >
            </div>
            <div class="text-base md:text-lg px-4 flex items-center gap-1 mt-1">
              <!-- …ピンSVG… -->
              <a
                class="underline text-lime-400 hover:text-lime-500 transition"
                href="https://maps.google.com/?q=34.8931642,135.4109987"
                target="_blank"
                rel="noopener noreferrer"
                >Googleマップで見る</a
              >
            </div>
          </li>

          <!-- 猪名川パークプラザ教室 -->
          <li class="flex-1">
            <strong class="flex items-center gap-2">
              <!-- …SVG… -->
              猪名川パークプラザ教室
            </strong>
            <div class="text-sm md:text-base px-4 mt-1">
              〒666-0251<br />
              兵庫県川辺郡猪名川町若葉1-39-1<br />
              パークプラザB棟2号室<br />
              TEL
              <a class="text-blue-300 text-base" href="tel:0727686410"
                >072-768-6410</a
              ><br />
              MAIL
              <a
                class="text-blue-300 text-base"
                href="mailto:inagawa@oksemi.co.jp"
                aria-label="ipsim 猪名川パークプラザ教室 メールアドレス"
                >inagawa@oksemi.co.jp</a
              >
            </div>
            <div class="text-base md:text-lg px-4 flex items-center gap-1 mt-1">
              <!-- …ピンSVG… -->
              <a
                class="underline text-lime-400 hover:text-lime-500 transition"
                href="https://maps.google.com/?q=34.8969108,135.3685999"
                target="_blank"
                rel="noopener noreferrer"
                >Googleマップで見る</a
              >
            </div>
          </li>
        </ul>

        <!-- 岡村ゼミナール -->
        <div class="px-4 mt-8 text-base md:text-lg">
          岡村ゼミナール株式会社
          <div class="text-sm md:text-base px-4">
            〒670-0877<br />
            兵庫県姫路市北八代1-7-2<br />
            TEL
            <a class="text-blue-300 text-base" href="tel:0792840253"
              >079-284-0253</a
            ><br />
            <a
              class="text-blue-300 text-base"
              href="https://oksemi.co.jp"
              target="_blank"
              rel="noopener noreferrer"
              >https://oksemi.co.jp</a
            >
          </div>
        </div>

        <div class="text-xs md:text-sm mt-4 px-4 py-4">
          LINEまたはメールにて お問い合わせください。
        </div>

        <small class="block text-center mt-4 text-sm mb-8">
          © ipsim / OKAMURA Seminar. All rights reserved.
        </small>
      </div>
    </footer>
    <!-- #endregion footer -->
  </body>
</html>
